{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Incident",
  "type": "object",
  "required": ["id","source","reported_at","location","severity_grade","camera_risk_class"],
  "properties": {
    "id": {"type":"string"},
    "source": {"enum":["traffic","violence"]},
    "reported_at": {"type":"string"},
    "location": {
      "type":"object",
      "properties":{"lat":{"type":"number"},"lng":{"type":"number"},"address":{"type":"string"}},
      "required":["lat","lng"]
    },
    "severity_grade": {"enum":["low","medium","high"]},
    "camera_risk_class": {"enum":["low","medium","high"]},
    "accident": {
      "type":"object",
      "properties":{"vehicles_involved":{"type":"integer"},"fire_present":{"type":"boolean"}}
    },
    "violence": {
      "type":"object",
      "properties":{"participants_count":{"type":"integer"},"weapon_conf":{"type":"number"}}
    },
    "media": {
      "type":"object",
      "properties":{"image_url":{"type":["string","null"]},"thumb_url":{"type":["string","null"]}}
    }
  }
}
